<!DOCTYPE html>
<html>
	<head>
		<style>
			body {
				background-color: #d2d7ab;
				font-family: 'Titillium Web', sans-serif;
			}
			img {
				display: none;
			}
			#error {
				position: fixed;
				width: 80%;
				top: 50vh;
				transform: translate(0px, -50%);
				left: 10%;
				display: none;
				text-align: center;
				font-size: 3em;
			}
		</style>
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@300&display=swap" rel="stylesheet">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta property="og:locale" content="en_US" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="Base FM | The station that rules the nation." />
		<meta property="og:description" content="Representing Auckland&#039;s soul, funk, reggae, hiphop &amp; drum&#039;n&#039;bass scenes." />
		<meta property="og:url" content="https://basefm.co.nz/" />
		<meta property="og:site_name" content="Base FM" />
		<meta property="og:image" content="https://basefm.co.nz/site/wp-content/uploads/2014/08/317798_10151283337866894_744602677_n.jpg" />
		<meta property="og:image:width" content="720" />
		<meta property="og:image:height" content="483" />
		<meta name="description" content="Base FM Remote" />
		<link rel="icon" href="https://basefm.co.nz/site/wp-content/uploads/2014/08/cropped-BASE-LOGO-60x60.jpg" sizes="32x32" />
		<link rel="icon" href="https://basefm.co.nz/site/wp-content/uploads/2014/08/cropped-BASE-LOGO-280x280.jpg" sizes="192x192" />
		<title>Base FM Remote</title>
	</head>
	<body>
		<div id="imgc"></div>
		<script>
			var errors = 0;
			
			function checkErrors() {
				errors++;
				console.log(errors);
				if (errors == 4) {
					document.getElementById("error").style.display = "block";
				}
			}
			var time = new Date().getTime();
			console.log(time);
			
			var urls = [
				"http://basefm-player",
				"http://192.168.3.147",
				"http://stream.basefm.co.nz:88",
				"http://basefm.eyezah.tk:88"
			];
			var names = [
				"local hostname",
				"local ipv4",
				"external base",
				"external eyezah"
			]
			
			var imgc = document.getElementById("imgc");
			var i = 0;
			while (i < urls.length) {
				imgc.innerHTML += "<img class=img onError=\"document.getElementsByClassName('info')[" + i + "].innerHTML = '" + names[i] + " failed'; checkErrors()\" onLoad=\"document.getElementsByClassName('info')[" + i + "].innerHTML = '" + names[i] + " succeeded'; window.location = '" + urls[i] + "'\" /><div class=\"info\"></div>";
				document.getElementsByClassName("img")[i].src = urls[i] + "/redirect.png";
				
				
				
				
				
				i++;
			}
			
		</script>
		<h2 id="error">Could not connect to Base Remote</h2>
		<!--<img src="http://stream.basefm.co.nz:88/redirect.png" onError="alert('local')" onLoad="alert('external')" />-->
	</body>
</html>